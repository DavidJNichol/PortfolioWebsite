<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fractal Code Examples</title>
    <link rel="stylesheet" href="CodeExamples.css">


    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <link rel="shortcut icon" type="image/jpg" href="Images/favicon.ico" />
</head>

<header>
    <div class="LogoContainer">
        <a href="index.html">
            <div class="Name">David Nichol</div>
        </a>
    </div>

    <div class="HeaderButton" tabindex="0">
        <a class="HeaderNavItem" href="Works.html" style="text-decoration:none">
            Works
        </a>
    </div>

    <div class="HeaderButton" tabindex="1">
        <a class="HeaderNavItem" href="Blog/Blog.html" style="text-decoration:none">
            Blog
        </a>
    </div>

    <div class="HeaderButton" tabindex="2">
        <a class="HeaderNavItem" href="Resume.html" style="text-decoration:none">
            Résumé
        </a>
    </div>
</header>

<iframe
  
  style="width: 1024px; height: 531px; border:0; transform: scale(1); overflow:hidden;"
  sandbox="allow-scripts allow-same-origin">
</iframe>

<body>
    <a href="Works.html#Fractals"><div class="BackButton" id = "BackButton"><span class = "Arrow">&#8592;</span> Back to Works</div></a>

    <div class="Entry-Title">ECS Fractal Code Examples</div>

    <div class = "Entry">
        <div class = "Item">
            <div class = "ItemHeader" id = "Entities">Entities</div>
            <div class="Images">
                <img class="LargerCaseImage" src="Images/Fractals/Code/ECS generation.gif" alt="">
                <div class = "Description">
                    What you see above is the generation of 100,000 cubes in Unity. Had those been GameObjects, it wouldn't have been
                    possible to smoothly render. The graphics buffer would need to deal with 100,000 mesh renderers, with 100,000 meshes,
                    100,000 transforms etc. in an order that is dependent of one another. But with ECS pipeline, these flyweight entities are computed and rendered in an order that
                    is convinient for the machine. This results in vastly higher performance! 
                </div>
    
                <div style = "--aspect-ratio: 16/9;" id = "FirstWrapper">
                    <iframe id = "FirstFrame"
                        src="https://carbon.now.sh/embed?bg=rgba%280%2C0%2C0%2C0%29&t=base16-dark&wt=bw&l=text%2Fx-csharp&width=1680&ds=true&dsyoff=34px&dsblur=68px&wc=false&wa=true&pv=0px&ph=0px&ln=true&fl=1&fm=Hack&fs=14px&lh=133%25&si=false&es=1x&wm=false&code=using%2520UnityEngine%253B%250Ausing%2520Unity.Entities%253B%250Ausing%2520Unity.Transforms%253B%250Ausing%2520Unity.Collections%253B%250Ausing%2520Unity.Rendering%253B%250Ausing%2520Unity.Mathematics%253B%250A%250Apublic%2520class%2520Entities%2520%253A%2520MonoBehaviour%250A%257B%250A%2520%2520%2520%2520%255BSerializeField%255D%2520private%2520Mesh%255B%255D%2520cubeMesh%253B%250A%2520%2520%2520%2520%255BSerializeField%255D%2520private%2520Material%255B%255D%2520material%253B%250A%2520%2520%2520%2520%255BSerializeField%255D%2520private%2520int%2520amountOfEntities%253B%250A%250A%250A%2520%2520%2520%2520private%2520void%2520Start%28%29%2520%250A%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520EntityManager%2520entityManager%2520%253D%2520World.Active.EntityManager%253B%250A%2509%2509%250A%2520%2520%2520%2520%2520%2520%2520%2520%252F*%2520Define%2520components%2520of%2520enteties%2520**%252F%250A%2520%2520%2520%2520%2520%2520%2520%2520EntityArchetype%2520entityArchetype%2520%253D%2520entityManager.CreateArchetype%28%2520%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520typeof%28Translation%29%252C%2520%252F%252F%2520Loc%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520typeof%28RenderMesh%29%252C%2520%2520%252F%252F%2520Rendering%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520typeof%28LocalToWorld%29%2520%252F%252F%2520Coordinate%2520conversion%2520%28required%29%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%29%253B%250A%2509%2509%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%252F*%2520array%2520of%2520entities.%2520We%2520use%2520a%2520native%2520array%2520to%2520prevent%2520a%2520multithreading%2520memory%2520leak.**%252F%250A%2520%2520%2520%2520%2520%2520%2520%2520NativeArray%253CEntity%253E%2520entityArray%2520%253D%2520new%2520NativeArray%253CEntity%253E%28amountOfEntities%252C%2520%2509%2509%2520%2520%2509%2509%2509%2509%2509%2520%2520%2520%2520Allocator.Temp%29%253B%250A%2520%2520%2520%2520%2520%2520%2520%2520%250A%2520%2520%2520%2520%2520%2520%2520%2520entityManager.CreateEntity%28entityArchetype%252C%2520entityArray%29%253B%250A%2520%2520%2520%2520%2520%2520%250A%2520%2520%2520%2520%2520%2520%2520%2520for%2520%28int%2520i%2520%253D%25200%253B%2520i%2520%253C%2520amountOfEntities%253B%2520i%252B%252B%29%250A%2520%2520%2520%2520%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520Entity%2520entity%2520%253D%2520entityArray%255Bi%255D%253B%2520%252F%252F%2520instantiation%250A%250A%2509%2509%2509%252F**%2520Set%2520data%2520of%2520attached%2520component%2520%27Translation%27%2520%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520X%2520%253D%2520Random%28-500%252C500%29%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520Y%2520%253D%2520Random%2520%28-100%252C%2520100%29%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520Z%2520%253D%2520Random%2520%28-500%252C%2520500%29%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520*%252F%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520entityManager.SetComponentData%28entity%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520new%2520Translation%2520%257B%2520Value%2520%253D%2520new%2520float3%28UnityEngine.Random.Range%28-500f%252C%2520500f%29%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520UnityEngine.Random.Range%28-100f%252C%2520100f%29%252C%2520%28UnityEngine.Random.Range%28-500f%252C%2520500f%29%29%29%2520%257D%29%253B%2520%2520%2520%2520%2520%250A%250A%2509%2509%2509%252F*%2520Set%2520mesh%2520to%2520be%2520a%2520random%2520from%2520a%2520range%2520of%2520meshes%2520that%2520are%2520%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520serialized%2520and%2520declared%2520in%2520editor%2520**%252F%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520entityManager.SetSharedComponentData%28entity%252C%2520new%2520RenderMesh%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520mesh%2520%253D%2520cubeMesh%255BUnityEngine.Random.Range%280%252C%2520cubeMesh.Length%29%255D%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520material%2520%253D%2520material%255BUnityEngine.Random.Range%280%252C%2520material.Length%29%255D%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%29%253B%2520%250A%2520%2520%2520%2520%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520entityArray.Dispose%28%29%253B%2520%252F%252F%2520Garbage%2520Collect%2520array%250A%2520%2520%2520%2520%257D%250A%257D"
                        width="1024"
                        height="1305"
                        frameborder="0"
                    >
                    </iframe>
                </div>
                <div class = "DescriptionContainer">
                    <div class = "Description" id = "ECSDescription"> 
                        This is all the code you need to generate ECS entities. The process goes like this:
                        <ol>
                           <li>Instantiate an Entity Manager.</li>
                           <li>Instantiate and define an Entity Archetype and fill it with components.</li>
                           <li>Create a Native Array (always use native arrays when multithreading in Unity).</li>
                           <li>Instantiate your Entities.</li>
                           <li>Add components to those Entities using SetSharedComponentData().</li>
                           <li>Modify members of those components to your liking.</li>
                           <li>Dispose of any Native Arrays you created.</li>
                        </ol>
                       </div>        
                </div>              
            </div>
        </div>
    
        <div class = "Item">
            <div class = "ItemHeader" id = "Jobs">Multithreading with Jobs</div>
            <img class="LargerCaseImage" src="Images/Fractals/JobsTest.gif" alt="">
    
            <div style = "--aspect-ratio: 16/9;" id = "SecondWrapper">
                <iframe id = "SecondFrame"
                    src="https://carbon.now.sh/embed?bg=rgba%280%2C0%2C0%2C1%29&t=base16-dark&wt=bw&l=text%2Fx-csharp&width=1680&ds=true&dsyoff=34px&dsblur=68px&wc=false&wa=true&pv=0px&ph=0px&ln=true&fl=1&fm=Hack&fs=14px&lh=133%25&si=false&es=1x&wm=false&code=using%2520System.Collections.Generic%253B%250Ausing%2520UnityEngine%253B%250Ausing%2520Unity.Jobs%253B%250Ausing%2520Unity.Mathematics%253B%250Ausing%2520Unity.Burst%253B%250Ausing%2520Unity.Collections%253B%250A%250Apublic%2520class%2520Jobs%2520%253A%2520MonoBehaviour%250A%257B%250A%2520%2520%2520%2520%255BSerializeField%255D%2520private%2520int%2520amountOfObjects%253B%250A%2520%2520%2520%2520%255BSerializeField%255D%2520private%2520Transform%2520prefabCube%253B%2520%252F%252FInit%2520via%2520inspector%250A%2520%2520%2520%2520private%2520List%253CCubeObject%253E%2520cubeList%253B%250A%250A%2520%2520%2520%2520%252F%252FJOBS%250A%2520%2520%2520%2520%255BBurstCompile%255D%2520%252F%252F%2520this%2520tag%2520activates%2520the%2520burst%2520compiler%2520for%2520this%2520struct%250A%250A%2520%2520%2520%2520%252F*%2520IJobParallelFor%2520contains%2520a%2520method%2520Execute%252C%2520which%2520is%2520the%2520logic%2520that%2520will%2520be%2520%250A%2520%2520%2520%2520%2520asynchronously%2520performed%2520over%2520a%2520fixed%2520number%2520of%2520iterations%2520**%252F%250A%2520%2520%2520%2520public%2520struct%2520ParallelMovementJob%2520%253A%2520IJobParallelFor%2520%250A%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520public%2520NativeArray%253Cfloat3%253E%2520positionArray%253B%250A%2520%2520%2520%2520%2520%2520%2520%2520public%2520NativeArray%253Cfloat%253E%2520moveYArray%253B%250A%2520%2520%2520%2520%2520%2520%2520%2520public%2520float%2520deltaTime%253B%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520public%2520void%2520Execute%28int%2520index%29%250A%2520%2520%2520%2520%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2509%252F%252F%2520setting%2520the%2520Y%2520translation%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520positionArray%255Bindex%255D%2520%252B%253D%2520new%2520float3%280%252C%2520moveYArray%255Bindex%255D%2520*%2520deltaTime%252C%25200f%29%253B%2520%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520if%2520%28positionArray%255Bindex%255D.y%2520%253E%25205f%29%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520moveYArray%255Bindex%255D%2520%253D%2520-math.abs%28moveYArray%255Bindex%255D%29%253B%2520%252F%252F%2520move%2520down%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%257D%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520if%2520%28positionArray%255Bindex%255D.y%2520%253C%2520-5f%29%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520moveYArray%255Bindex%255D%2520%253D%2520math.abs%28moveYArray%255Bindex%255D%29%253B%2520%252F%252F%2520move%2520up%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520%257D%250A%250A%2520%2520%2520%2520public%2520class%2520CubeObject%250A%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520public%2520Transform%2520transform%253B%250A%2520%2520%2520%2520%2520%2520%2520%2520public%2520float%2520moveY%253B%250A%2520%2520%2520%2520%257D%250A%250A%2520%2520%2520%2520private%2520void%2520Start%28%29%250A%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520cubeList%2520%253D%2520new%2520List%253CCubeObject%253E%28%29%253B%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520%252F%252F%2520Instantiate%2520and%2520randomly%2520position%2520cubes%250A%2520%2520%2520%2520%2520%2520%2520%2520for%2520%28int%2520i%2520%253D%25200%253B%2520i%2520%253C%2520amountOfObjects%253B%2520i%252B%252B%29%250A%2520%2520%2520%2520%2520%2520%2520%2520%257B%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520Transform%2520cubeTransform%2520%253D%2520Instantiate%28prefabCube%252C%2520new%2520%2509%2509%2520%2520%2520%2520%2509%2509%2509%2509%2509%2509%2509%2520%2520%2520%2509%2509%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520Vector3%28UnityEngine.Random.Range%28-12f%252C%252025f%29%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520UnityEngine.Random.Range%28-5f%252C%252030f%29%252C%2520UnityEngine.Random.Range%28-8f%252C%252020f%29%29%252C%2520%2509%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520Quaternion.identity%29%253B%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520cubeList.Add%28new%2520CubeObject%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520transform%2520%253D%2520cubeTransform%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520moveY%2520%253D%2520UnityEngine.Random.Range%281f%252C%25202f%29%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%257D%29%253B%250A%2520%2520%2520%2520%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520%257D"
                    width="1024"
                    height="1100"
                    frameborder="0"
                >
                </iframe>
            </div>
            <div style = "--aspect-ratio: 16/9;" id = "ThirdWrapper">
                <iframe id = "ThirdFrame"
                    src="https://carbon.now.sh/embed?bg=rgba%280%2C0%2C0%2C0%29&t=base16-dark&wt=bw&l=text%2Fx-csharp&width=1024&ds=true&dsyoff=34px&dsblur=68px&wc=false&wa=false&pv=0px&ph=0px&ln=true&fl=1&fm=Hack&fs=14px&lh=133%25&si=false&es=1x&wm=false&code=%2520%2520%2520%2520void%2520Update%28%29%250A%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520float%2520startTime%2520%253D%2520Time.realtimeSinceStartup%253B%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520%252F%252F%2520Create%2520arrays%2520for%2520copying%2520data%2520into%250A%2520%2520%2520%2520%2520%2520%2520%2520NativeArray%253Cfloat3%253E%2520positionArray%2520%253D%2520new%2520NativeArray%253Cfloat3%253E%28cubeList.Count%252C%2520Allocator.TempJob%29%253B%250A%2520%2520%2520%2520%2520%2520%2520%2520NativeArray%253Cfloat%253E%2520moveYArray%2520%253D%2520new%2520NativeArray%253Cfloat%253E%28cubeList.Count%252C%2520Allocator.TempJob%29%253B%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520%252F%252F%2520Populate%2520the%2520arrays%2520%250A%2520%2520%2520%2520%2520%2520%2520%2520for%2520%28int%2520i%2520%253D%25200%253B%2520i%2520%253C%2520cubeList.Count%253B%2520i%252B%252B%29%250A%2520%2520%2520%2520%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520positionArray%255Bi%255D%2520%253D%2520cubeList%255Bi%255D.transform.position%253B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520moveYArray%255Bi%255D%2520%253D%2520cubeList%255Bi%255D.moveY%253B%250A%2520%2520%2520%2520%2520%2520%2520%2520%257D%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520%252F%252F%2520Create%2520job%2520w.%2520data%250A%2520%2520%2520%2520%2520%2520%2520%2520ParallelMovementJob%2520parallelMovementJob%2520%253D%2520new%2520ParallelMovementJob%250A%2520%2520%2520%2520%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520deltaTime%2520%253D%2520Time.deltaTime%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520positionArray%2520%253D%2520positionArray%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520moveYArray%2520%253D%2520moveYArray%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%257D%253B%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520%252F**%2520Scheudle%2520Job%2520with%2520an%2520array%2520length%2520batch%2520count%2520of%2520100.%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520*%2520%27array%2520length%27%2520%253D%2520how%2520many%2520times%2520parallelMovementJob.Execute%28%29%2520will%2520run%2520total%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520*%2520%27batch%2520count%27%2520%253D%2520how%2520many%2520times%2520parallelMovementJob.Execute%28%29%2520will%2520run%2520per%2520thread%2520%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520*%252F%250A%2520%2520%2520%2520%2520%2520%2520%2520JobHandle%2520jobHandle%2520%253D%2520parallelMovementJob.Schedule%28cubeList.Count%252C%2520100%29%253B%250A%2520%2520%2520%2520%2520%2520%2520%2520jobHandle.Complete%28%29%253B%2520%252F%252F%2520Ensure%2520that%2520the%2520job%2520had%2520completed%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520%252F%252F%2520Update%2520to%2520calculated%2520values%250A%2520%2520%2520%2520%2520%2520%2520%2520for%2520%28int%2520i%2520%253D%25200%253B%2520i%2520%253C%2520cubeList.Count%253B%2520i%252B%252B%29%250A%2520%2520%2520%2520%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520cubeList%255Bi%255D.transform.position%2520%253D%2520positionArray%255Bi%255D%253B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520cubeList%255Bi%255D.moveY%2520%253D%2520moveYArray%255Bi%255D%253B%250A%2520%2520%2520%2520%2520%2520%2520%2520%257D%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520%252F%252F%2520Dispose%2520arrays%250A%2520%2520%2520%2520%2520%2520%2520%2520positionArray.Dispose%28%29%253B%250A%2520%2520%2520%2520%2520%2520%2520%2520moveYArray.Dispose%28%29%253B%250A%2520%2520%2520%2520%257D%250A%257D"
                    width="1024"
                    height="1100"
                    frameborder="0"
                >
                </iframe>
            </div>
            <div class = "DescriptionContainer">
                <div class = "Description" id = "JobsDescription"> 
                    Unity's Job system is simple. At it's core, you have a struct that inherits from  with an execute method. 
                    Any logic you want to be multithreaded goes in that method. Then, .Schedule() the struct and specify
                    arrayLength and innerloopBatchCount.  
                     <ol>
                        <li>Declare a struct that inherits from IJobParallelFor with public void Execute(int index)</li>
                        <li>Fill that method with logic that will be computed asynch.</li>
                        <li>Instantiate that struct and any members it has.</li>
                        <li>Schedule the Job.</li>
                        <li>Don't forget to use NativeArrays. If you do, dispose of them when you're done.</li>
        
                     </ol>
                </div>
            </div>
        </div> 
        
        <div class = "Item">
            <div class = "ItemHeader" id = "Fractals">Creating Fractals with ECS and Jobs</div>

            <img class="LargerCaseImage" src="Images/Fractals/JobsTest.gif" alt="">

            <div style = "--aspect-ratio: 16/9;" id = "FourthWrapper">
                <iframe id = "FourthFrame"
                src="https://carbon.now.sh/embed?bg=rgba%280%2C0%2C0%2C0%29&t=base16-dark&wt=bw&l=text%2Fx-csharp&width=1105&ds=true&dsyoff=31px&dsblur=68px&wc=false&wa=false&pv=0px&ph=0px&ln=true&fl=1&fm=Hack&fs=14px&lh=137%25&si=false&es=1x&wm=false&code=using%2520UnityEngine%253B%250Ausing%2520Unity.Entities%253B%250Ausing%2520Unity.Transforms%253B%250Ausing%2520Unity.Collections%253B%250Ausing%2520Unity.Rendering%253B%250Ausing%2520Unity.Mathematics%253B%250A%250Apublic%2520class%2520FractalECS%2520%253A%2520MonoBehaviour%250A%257B%250A%2520%2520%2520%2520%2523region%2520Editor%2520Serialization%250A%2520%2520%2520%2520%255BSerializeField%255D%2520private%2520Mesh%255B%255D%2520cubeMesh%253B%250A%2520%2520%2520%2520%255BSerializeField%255D%2520private%2520Material%2520material%253B%250A%2520%2520%2520%2520%255BSerializeField%255D%2520private%2520int%2520maxDepth%253B%250A%2520%2520%2520%2520%255BSerializeField%255D%2520private%2520float%2520childScale%253B%250A%2520%2520%2520%2520%255BSerializeField%255D%2520private%2520int%2520maxTwist%253B%250A%2520%2520%2520%2520%255BSerializeField%255D%2520private%2520bool%2520rotation%253B%250A%2520%2520%2520%2520%255BSerializeField%255D%2520private%2520bool%2520weirdFractal%253B%250A%2520%2520%2520%2520%255BSerializeField%255D%2520public%2520float%2520radiansPerSecond%253B%250A%2520%2520%2520%2520%2523endregion%250A%250A%2520%2520%2520%2520%2523region%2520ECS%2520basic%2520elements%250A%2520%2520%2520%2520private%2520NativeArray%253CEntity%253E%2520entityArray%253B%250A%2520%2520%2520%2520private%2520EntityArchetype%2520entityArchetype%253B%250A%2520%2520%2520%2520private%2520EntityManager%2520entityManager%253B%250A%2520%2520%2520%2520private%2520Entity%2520parentScale%253B%250A%2520%2520%2520%2520private%2520Entity%2520parent%253B%250A%2520%2520%2520%2520%2523endregion%250A%2520%2520%2520%2520%250A%2520%2520%2520%2520%2523region%2520Spawning%2520Enitities%250A%2520%2520%2520%2520private%2520const%2520int%2520CHILD_COUNT%2520%253D%25205%253B%250A%2520%2520%2520%2520private%2520float3%2520newLoc%253B%250A%2520%2520%2520%2520private%2520float4x4%2520loc%253B%250A%2520%2520%2520%2520private%2520float3%2520entityPosition%253B%250A%2520%2520%2520%2520private%2520int%2520amountOfEntities%253B%250A%2520%2520%2520%2520private%2520int%2520depth%253B%250A%2520%2520%2520%2520private%2520int%2520directionIndex%253B%250A%2520%2520%2520%2520private%2520quaternion%2520startOrientation%253B%250A%2520%2520%2520%2520%2523endregion%250A%250A%2520%2520%2520%2520private%2520Material%255B%252C%255D%2520materials%253B%2520%252F%252F%2520Color%250A%2520%2520%2520%2520private%2520int%2520entitiesCreated%253B%2520%252F%252F%2520Indexing%250A%2520%2520%2520%2520private%2520float%2520startTime%253B%2520%252F%252F%2520Debug%2520StartupTime%250A%2520%2520%250A%2520%2520%2520%2520private%2520static%2520Vector3%255B%255D%2520childDirections%2520%253D%2520%257B%2520%2520%252F%252F%2520Iterative%2520directions%250A%2520%2520%2520%2520%2520%2520%2520%2520Vector3.right%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520Vector3.left%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520Vector3.up%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520Vector3.down%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520Vector3.forward%252C%2520%2520%2520%2520%2520%2520%2520%250A%2520%2520%2520%2520%2520%2520%2520%2520Vector3.back%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%250A%2520%2520%2520%2520%257D%253B%250A%250A%2520%2520%2520%2520private%2520static%2520quaternion%255B%255D%2520childOrientations%2520%253D%2520%257B%2520%2520%252F%252F%2520Initial%2520oritentation%2520of%2520cubes%250A%2520%2520%2520%2520%2520%2520%2520%2520Quaternion.identity%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520Quaternion.Euler%280f%252C%25200f%252C%2520-90f%29%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520Quaternion.Euler%280f%252C%25200f%252C%252090f%29%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520Quaternion.Euler%2890f%252C%25200f%252C%25200f%29%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520Quaternion.Euler%28-90f%252C%25200f%252C%25200f%29%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520Quaternion.Euler%280f%252C%252090f%252C%25200f%29%250A%2520%2520%2520%2520%257D%253B"
                width="1024"
                height="1100"
                frameborder="0"
                >
                </iframe>
            </div>
           
            <div class = "DescriptionContainer">
                <div class = "Description" id = "FractalDescription"> 
                    To start, we define a series of variables that our entities are going to use to define themselves. 
                    To define a fractal, we need to define a number of 'parents' and a number of 'child' entities per 'parent.' 
                    I put parent and child in quotes because in Unity we refer to an owning object as a parent, but there is no 
                    objecet hierarchy in ECS. In this context, every nth entity we mark as a parent, where n = number of children
                    per generation. and we build the child entity's orientation around that of it's parents'. Once we have 
                    determined a target number of generations and To visualize this, see below. 
                </div>
            </div> 
            
            <img class="CaseImage" src="Images/Fractals/Code/Fractal0.PNG" alt="">
            <div class = "Caption"><em>Fractal Tree Generator by Andrew Herman <a href="https://codepen.io/hippiefuturist/full/NRWOxM">ashmystic.com</a></em></div>
            <div class = "DescriptionContainer">
                <div class = "Description" id = "FractalDescription"> 
                    Here is a fractal tree with 5 branches (children) per generation (parent). Num Entities = 5^2 = 25.
                </div>
            </div> 
            
            <img class="CaseImage" src="Images/Fractals/Code/Fractal3.PNG" alt="">
            <div class = "Caption"><em>Fractal Tree Generator by Andrew Herman <a href="https://codepen.io/hippiefuturist/full/NRWOxM">ashmystic.com</a></em></div>
            <div class = "DescriptionContainer">
                <div class = "Description" id = "FractalDescription"> 
                    Here is a fractal tree with 7 branches (children) per generation (parent) at 5 generations. Num Entities = 5^7 = 78125.
                    That is the number of entities we will be creating for this demonstration. Without ECS and Jobs, the GPU would surely have
                    a meltdown!
                </div>
            </div> 

         </div>  
    </div>
</body>

<footer>
    <div class="ContactElement">
        <div class="ContactEntry">davidjnichol87@gmail.com</div>
    </div>

    <div class="ContactElement" id="Phone">
        <div class="ContactEntry">(331)-262-8440</div>
    </div>


    <div class="SocialMediaElement">
        <a href="https://www.linkedin.com/in/david-nichol/" target="_blank">
            <svg class="SocialMediaEntry" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                <path
                    d="M0 0v24h24v-24h-24zm8 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.397-2.586 7-2.777 7 2.476v6.759z" />
            </svg>
        </a>
    </div>

    <div class="SocialMediaElement">
        <a href="https://github.com/DavidJNichol?tab=repositories" target="_blank">
            <svg class="SocialMediaEntry" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                <path
                    d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm2.218 18.616c-.354.069-.468-.149-.468-.336v-1.921c0-.653-.229-1.079-.481-1.296 1.56-.173 3.198-.765 3.198-3.454 0-.765-.273-1.389-.721-1.879.072-.177.312-.889-.069-1.853 0 0-.587-.188-1.923.717-.561-.154-1.159-.231-1.754-.234-.595.003-1.193.08-1.753.235-1.337-.905-1.925-.717-1.925-.717-.379.964-.14 1.676-.067 1.852-.448.49-.722 1.114-.722 1.879 0 2.682 1.634 3.282 3.189 3.459-.2.175-.381.483-.444.936-.4.179-1.413.488-2.037-.582 0 0-.37-.672-1.073-.722 0 0-.683-.009-.048.426 0 0 .46.215.777 1.024 0 0 .405 1.25 2.353.826v1.303c0 .185-.113.402-.462.337-2.782-.925-4.788-3.549-4.788-6.641 0-3.867 3.135-7 7-7s7 3.133 7 7c0 3.091-2.003 5.715-4.782 6.641z" />
            </svg>
        </a>
    </div>
</footer>
</html>